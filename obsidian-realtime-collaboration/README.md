# Obsidian Realtime Collaboration Plugin

リアルタイム協同編集機能をObsidianプラグインで実装したプロジェクトです。Y.js + WebRTC P2Pアプローチにより、月額$5-20の低コストでGoogle Docsレベルの協同編集機能を実現します。

## 🚀 現在の実装状況

### ✅ Phase 1: MVP実装完了
- **Y.js CRDT統合**: 完全実装済み
  - Y.Docの初期化と管理
  - Y.Textの設定と監視
  - 変更イベントの処理
  - IndexedDBによる文書永続化
- **P2P通信**: WebRTC実装完了
  - WebrtcProvider統合
  - シグナリングサーバー接続
  - 接続状態管理
- **エディター統合**: 基本的な実装完了
  - 双方向バインディング（Y.js ↔ Obsidian）
  - 変更の伝播処理
  - 競合解決機能

### 🔄 Phase 2: セキュリティとアクセス制御（開発中）
- エンドツーエンド暗号化
- アクセス制御システム
- ユーザー認証

### 📋 Phase 3: UI/UX改善（計画中）
- リアルタイムユーザー表示
- カーソル位置表示
- 共有機能

## 🛠️ 技術スタック

- **CRDT**: Y.js（週間900,000ダウンロードの成熟ライブラリ）
- **通信**: WebRTC P2P（サーバーコスト最小化）
- **永続化**: IndexedDB（ローカルストレージ）
- **言語**: TypeScript（型安全性）
- **フレームワーク**: Obsidian Plugin API

## 📦 インストール

```bash
git clone <repository-url>
cd obsidian-realtime-collaboration
npm install
npm run build
```

## 🚀 使用方法

1. プラグインをビルド
2. Obsidianのプラグインフォルダに配置
3. Obsidianでプラグインを有効化
4. 協同編集セッションを開始

## 🧪 テスト

```bash
npm test          # 全テスト実行
npm run test:watch # ウォッチモード
```

## 📊 コスト分析

| ユーザー数 | 月額コスト | 構成 |
|------------|------------|------|
| 1-20 | $5-10 | 純粋P2P + シグナリングサーバー |
| 20-100 | $15-30 | ハイブリッドP2P + Firebase |
| 100+ | $50-100 | Firebase主体 |

## 🔒 セキュリティ

- エンドツーエンド暗号化
- ゼロノレッジアーキテクチャ
- クライアントサイド暗号化

## 📈 パフォーマンス

- 100万操作で220MB RAM使用量
- リアルタイム同期（ローカル操作は即座に適用）
- 自動競合解決

## 🤝 コントリビューション

1. このリポジトリをフォーク
2. フィーチャーブランチを作成
3. 変更をコミット
4. プルリクエストを作成

## 📄 ライセンス

ISC License

## 🔗 参考プロジェクト

- **Peerdraft**: 商業的に成功した協同編集プラグイン
- **brush701/obsidian-multiplayer**: オープンソース参考実装
- **Conclave**: 包括的な技術ケーススタディ

## 📞 サポート

問題や質問がある場合は、GitHub Issuesを作成してください。

---

**注意**: このプラグインは現在開発中です。本番環境での使用は推奨されません。